{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Scholarship Application</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
            padding: 15px;
        }
        .container {
            max-width: 800px;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 0 auto;
            width: 100%;
        }
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
        }
        .form-title {
            text-align: center;
            color: #007bff;
            font-weight: bold;
            margin-bottom: 30px;
            font-size: calc(1.5rem + 0.6vw);
        }
        .form-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #333;
        }
        .form-control {
            padding: 0.75rem;
            border-radius: 6px;
            border: 1px solid #ced4da;
            transition: border-color 0.2s ease-in-out;
        }
        .form-control:focus {
            border-color: #80bdff;
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
        }
        .error-message {
            color: #dc3545;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }
        .btn-submit {
            width: 100%;
            font-size: 1.1rem;
            font-weight: 600;
            padding: 0.75rem;
            margin-top: 1.5rem;
            transition: all 0.3s ease;
        }
        .btn-submit:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2);
        }
        .file-upload {
            background: #f8f9fa;
            border: 2px dashed #ced4da;
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        .file-upload:hover {
            border-color: #80bdff;
            background: #f1f7ff;
        }
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
        }
        textarea.form-control {
            min-height: 100px;
        }
        @media (max-width: 576px) {
            .col-md-6 {
                margin-bottom: 1rem;
            }
            .form-title {
                font-size: 1.5rem;
            }
            .container {
                padding: 15px;
            }
            .btn-submit {
                font-size: 1rem;
                padding: 0.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2 class="form-title">College Scholarship Application</h2>
        <form method="POST" enctype="multipart/form-data" class="needs-validation" novalidate>
            {% csrf_token %}

            <div class="row">
                <!-- Full Name -->
                <div class="col-md-6 mb-3">
                    <label for="id_full_name" class="form-label">Full Name</label>
                    {{ form.full_name }}
                    {% if form.full_name.errors %}
                        <div class="error-message">{{ form.full_name.errors }}</div>
                    {% endif %}
                </div>

                <!-- Email -->
                <div class="col-md-6 mb-3">
                    <label for="id_email" class="form-label">Email</label>
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error-message">{{ form.email.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <!-- Mobile Number -->
                <div class="col-md-6 mb-3">
                    <label for="id_mobile_number" class="form-label">Mobile Number</label>
                    {{ form.mobile_number }}
                    <small class="text-muted">Format: 9876543210</small>
                    {% if form.mobile_number.errors %}
                        <div class="error-message">{{ form.mobile_number.errors }}</div>
                    {% endif %}
                </div>

                <!-- Date of Birth -->
                <div class="col-md-6 mb-3">
                    <label for="id_date_of_birth" class="form-label">Date of Birth</label>
                    {{ form.date_of_birth }}
                    {% if form.date_of_birth.errors %}
                        <div class="error-message">{{ form.date_of_birth.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <!-- Student ID -->
                <div class="col-md-6 mb-3">
                    <label for="id_student_id" class="form-label">Student ID</label>
                    {{ form.student_id }}
                    {% if form.student_id.errors %}
                        <div class="error-message">{{ form.student_id.errors }}</div>
                    {% endif %}
                </div>

                <!-- Father's Name -->
                <div class="col-md-6 mb-3">
                    <label for="id_father_name" class="form-label">Father's Name</label>
                    {{ form.father_name }}
                    {% if form.father_name.errors %}
                        <div class="error-message">{{ form.father_name.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <!-- Mother's Name -->
                <div class="col-md-6 mb-3">
                    <label for="id_mother_name" class="form-label">Mother's Name</label>
                    {{ form.mother_name }}
                    {% if form.mother_name.errors %}
                        <div class="error-message">{{ form.mother_name.errors }}</div>
                    {% endif %}
                </div>

                <!-- Siblings -->
                <div class="col-md-6 mb-3">
                    <label for="id_siblings" class="form-label">Siblings (Name)</label>
                    {{ form.siblings }}
                    <small class="text-muted">Format:Name1,Name2 or None</small>
                    {% if form.siblings.errors %}
                        <div class="error-message">{{ form.siblings.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <!-- Address -->
            <div class="mb-3">
                <label for="id_address" class="form-label">Permanent Address</label>
                {{ form.address }}
                {% if form.address.errors %}
                    <div class="error-message">{{ form.address.errors }}</div>
                {% endif %}
            </div>

            <div class="row">
                <!-- District -->
                <div class="col-md-6 mb-3">
                    <label for="id_district" class="form-label">District</label>
                    {{ form.district }}
                    {% if form.district.errors %}
                        <div class="error-message">{{ form.district.errors }}</div>
                    {% endif %}
                </div>

                <!-- State -->
                <div class="col-md-6 mb-3">
                    <label for="id_state" class="form-label">State</label>
                    {{ form.state }}
                    {% if form.state.errors %}
                        <div class="error-message">{{ form.state.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <!-- Country -->
                <div class="col-md-6 mb-3">
                    <label for="id_country" class="form-label">Country</label>
                    {{ form.country }}
                    {% if form.country.errors %}
                        <div class="error-message">{{ form.country.errors }}</div>
                    {% endif %}
                </div>

                <!-- College Name -->
                <div class="col-md-6 mb-3">
                    <label for="id_college_name" class="form-label">College Name</label>
                    {{ form.college_name }}
                    {% if form.college_name.errors %}
                        <div class="error-message">{{ form.college_name.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <!-- Degree -->
                <div class="col-md-6 mb-3">
                    <label for="id_degree" class="form-label">Degree</label>
                    {{ form.degree }}
                    {% if form.degree.errors %}
                        <div class="error-message">{{ form.degree.errors }}</div>
                    {% endif %}
                </div>

                <!-- Department Head Contact -->
                <div class="col-md-6 mb-3">
                    <label for="id_department_head_contact" class="form-label">Department Head Contact</label>
                    {{ form.department_head_contact }}
                    {% if form.department_head_contact.errors %}
                        <div class="error-message">{{ form.department_head_contact.errors }}</div>
                    {% endif %}
                </div>
            </div>

            <!-- Semester Fee -->
            <div class="mb-3">
                <label for="id_semester_fee" class="form-label">Semester Fee (â‚¹)</label>
                {{ form.semester_fee }}
                {% if form.semester_fee.errors %}
                    <div class="error-message">{{ form.semester_fee.errors }}</div>
                {% endif %}
            </div>

            <!-- File Uploads -->
            <div class="mb-4">
                <div class="file-upload">
                    <label for="id_aadhar_card" class="form-label">Upload Aadhar Card</label>
                    {{ form.aadhar_card }}
                </div>

                <div class="file-upload">
                    <label for="id_pan_card" class="form-label">Upload PAN Card</label>
                    {{ form.pan_card }}
                </div>

                <div class="file-upload">
                    <label for="id_bank_passbook" class="form-label">Upload Bank Passbook</label>
                    {{ form.bank_passbook }}
                </div>

                <div class="file-upload">
                    <label for="id_college_bonafide" class="form-label">Upload College Bonafide</label>
                    {{ form.college_bonafide }}
                </div>

                <div class="file-upload">
                    <label for="id_extracurricular_certificate" class="form-label">Upload Extracurricular Certificate</label>
                    {{ form.extracurricular_certificate }}
                </div>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-submit">Submit Application</button>
        </form>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Date input enhancement
            var dobInput = document.getElementById("id_date_of_birth");
            if (dobInput) {
                dobInput.type = "date";
                dobInput.classList.add("form-control");
            }

            // Add form-control class to all form inputs
            const formInputs = document.querySelectorAll("input, select, textarea");
            formInputs.forEach(input => {
                input.classList.add("form-control");
            });

            // File input styling
            const fileInputs = document.querySelectorAll('input[type="file"]');
            fileInputs.forEach(input => {
                input.addEventListener('change', function(e) {
                    const fileName = e.target.files[0]?.name;
                    const parent = input.closest('.file-upload');
                    const existingFeedback = parent.querySelector('.file-feedback');
                    
                    if (existingFeedback) {
                        existingFeedback.remove();
                    }
                    
                    if (fileName) {
                        const feedback = document.createElement('div');
                        feedback.className = 'file-feedback mt-2 text-success';
                        feedback.textContent = `Selected: ${fileName}`;
                        parent.appendChild(feedback);
                    }
                });
            });
        });
    </script>
</body>
</html>
